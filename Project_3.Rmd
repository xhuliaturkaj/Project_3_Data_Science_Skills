---
title: 'Project 3: Best Skills for a Data Scientist'
author: "Folorunsho Atanda, Xhulia Turkaj, Ron Balaban"
date: "2023-10-22"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

``


#### Our project is guided by a pivotal question: ***"What are the most crucial data science skills?"*** To answer this question effectively, we have chosen a method that offers unique insights.



We believe that examining the curricula of top online Master of Data Science programs at 23 universities is an ideal approach. These programs are meticulously designed to equip students with the skills and knowledge needed to excel in the field. By scrutinizing what these respected institutions prioritize, we gain a deep understanding of the skills that form the backbone of data science success.


We employed web scraping techniques to automate the extraction of data, capturing general information about the top 23 online Master's in Data Science programs. This data forms the foundation of the first table in our relational database.

From FORTUNE EDUCATION's website, we extracted the university's name, location, credit cost, and GRE requirements. While examining the URLs associated with the rankings, we discovered that some led to different programs within the same university. To address this, we manually retrieved the URLs for each program's overview website and then integrated them with the remaining information gathered through web scraping. 

# library used

```{r}
library(rvest)
library(tidyverse)
```

# functions used

```{r}
# function to scrap info from website used
scrapped_data <- function(data, css_string, regex_string = ".*"){
  data %>% 
    html_elements(css_string) %>% 
    html_text() %>% 
    str_extract(regex_string)
}
```

# Scrapping information of schools
```{r}
url <- "https://fortune.com/education/information-technology/best-online-masters-in-data-science/"
html <- read_html(url)

school_names <- html %>% 
  scrapped_data("fully-clickable , .card-row:nth-child(1) h2", "([a-zA-Z]+\ ?){1,}")

school_location <- html %>% 
  scrapped_data(".card-row:nth-child(1) .text-medium", ".*")

acceptance_rate <- html %>% 
  scrapped_data(".footer:nth-child(3) .col-xxs-6:nth-child(1) .value", ".*")

gre_required <- html %>% 
  scrapped_data(".col-xxs-6:nth-child(4) .value", ".*")

cost_per_credit <- html %>% 
  scrapped_data(".col-xxs-6:nth-child(3) .value", ".*")

avg_work_experience_required <- html %>% 
  scrapped_data(".footer:nth-child(3) .col-xxs-6:nth-child(2) .value", ".*") %>% 
  str_replace_all("DNP", "Did not state")

school_info <- tibble(
  school_names, 
  school_location, 
  acceptance_rate, 
  gre_required,
  cost_per_credit,
  avg_work_experience_required,
  )



school_info
```









#Scraping data on skills you gain by the program's no. 7-10 by creating a function that scrapes the text data from each url and given css selector 


# Here I created  a list called  program data where each element is a list containing URL and selector
program_data <- list(
  list(
    name = "Program 7",
    url = "https://osuonline.okstate.edu/programs/graduate/business-analytics-master-of-science.html",
    selector = ".intro-with-media__caption"
  ),
  list(
    name = "Program 8",
    url = "https://www.depts.ttu.edu/rawlsbusiness/graduate/ms/datascience/",
    selector = ".curr-info"
  ),
  list(
    name = "Program 9",
    url = "https://dsa.missouri.edu/masters-program/",
    selector = ".shortcode_pb"
  ),
  list(
    name = "Program 10",
    url = "https://www.msol.ucla.edu/data-science-engineering/",
    selector = c(".order-lg-1", ".mb-0")
  )
)

# Define a function to scrape skills from a program data entry





  
  
  
  
scrape_skills <- function(program_data_entry) {
  webpage <- read_html(program_data_entry$url)
  skills <- webpage %>%
    html_nodes(program_data_entry$selector) %>%
    html_text(trim = TRUE)
  return(skills)
}

# Scrape skills for each program in program_data
scraped_skills <- lapply(program_data, scrape_skills)
print(scraped_skills)




